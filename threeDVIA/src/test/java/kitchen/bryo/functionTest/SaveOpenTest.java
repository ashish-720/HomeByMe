package kitchen.bryo.functionTest;

import org.openqa.selenium.support.PageFactory;
import org.testng.annotations.Test;

import hbm.planner.dataobject.SignUpData;
import hbm.planner.utility.Browser;
import hbm.planner.utility.UtilHBM;
import kitchen.bryo.pageObject.StartNow;

public class SaveOpenTest extends Browser {
	@Test(dataProvider = "bryoLogin", dataProviderClass = SignUpData.class)
	public void saveOpenTest(SignUpData signUpData){

		StartNow start = PageFactory.initElements(driver, StartNow.class);
		start.startDemo("en-GB")
		.startFromScratch()
		.step3()
		.addProduct("U2DA80", true, false, false)
		.addProduct("U2DA80", true, false, false)
		.addProduct("W6002", true, false, false)
		.saveProjectInStep3(signUpData, "SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"),"MY BRYO KITCHEN created on" + UtilHBM.getDate(0, "yyyyMMdd"))
		.closePlanner()
		.openMyProjectList()
//		.openProjectFromMyProjects("SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"))
		.openProject(0,"SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"))
		.verifyPrice("1 754,00")
		.clickSave(signUpData)
		.closePlanner()
		.openMyProjectList()
//		.openProjectFromMyProjects("SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"))
		.openProject(0,"SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"))
		.verifyProductOnReOpen(-50,-156, "W6002")

				//Test Scenatios For KIT-2141 : As a user, when I open an existing project the design fills as much of the available screen space as possible
				//Scenario 1: when I open an existing project the design fills as much of the available screen space as possible and is focussed on the group of cabinets
				.verifyProduct(-70, -160, "W6002")
				.verifyProduct(-85, 15, "U2DA80")
				.verifyProduct(45, 55, "U2DA80")
				//Scenario 2: similarly, when switching back to 2D view , the design fills as much of the available screen space as possible and is focussed on the group of cabinets
				.twoDView()
				.verifyProduct(-115, -25, "W6002")
				.verifyProduct(150, -5, "U2DA80")
				.threeDView()
				.verifyProduct(-70, -160, "W6002")
				.verifyProduct(45, 55, "U2DA80")

				//Scenario 3: Design fills available screen space even if a cabinet is at the other end of the room
				.zoomOut(5)
				.addProduct("GVARIO03", true, false, false)
				.translateProduct(65, -5, 45, 170)
				.twoDView()
				.verifyProduct(-205, -190, "W6002")
				.verifyProduct(215, 180, "GVARIO03")
				.threeDView()
				.verifyProduct(-460, -35, "W6002")
				.verifyProduct(-385, 200, "U2DA80")
				.verifyProduct(345, 10, "GVARIO03")
				.clickSave(signUpData)
				.closePlanner()
				.openMyProjectList()
//				.openProjectFromMyProjects("SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"))
				.openProject(0,"SAVE_OPEN_ODT_TEST_" + UtilHBM.getDate(0, "yyyyMMdd"))
				.verifyProductOnReOpen(-460, -35, "W6002")
				.verifyProduct(-385, 200, "U2DA80")
				.verifyProduct(345, 10, "GVARIO03");
	}
}
